angular.module('beamng.stuff')

/**
 * @ngdoc object
 * @name beamng.stuff:Contributors
 * @description Everyone & everything contributed to BeamNG.drive
**/
.constant('Contributors', [
  { translateId: 'ui.credits.programmers',
    members: [
      {first: 'Thomas',   last: 'Fischer',           aka: 'tdev'},
      {first: 'Lefteris', last: 'Stamatogiannakis',  aka: 'estama'},
      {first: 'Luis',     last: 'Anton Rebollo',     aka: 'Souga'},
      {first: 'Bruno',    last: 'Gonzalez',          aka: 'stenyak'},
      {first: 'Andrew',   last: 'Kabakwu',           aka: ''},
      {first: 'Petros',   last: 'Kondylis',          aka: ''},
      {first: 'Fabian',   last: 'Enkler',            aka: ''},
      {first: 'Timo',     last: 'Stabbert',          aka: ''},
      {first: 'Nour',     last: 'Mohamed',           aka: ''},
      {first: 'Ludger',   last: 'Meyer-Wülfing',     aka: 'meywue'},
      {first: 'Pascale',  last: 'Maul',              aka: ''},
      {first: 'Mirco',    last: 'Weigel',            aka: 'theshark'},
      {first: 'Xiaoyi',   last: 'Wang',              aka: ''},
      {first: 'Matti',    last: 'Yrjänheikki',       aka: 'Masa'},
      {first: 'Moncef',   last: 'Slimane',           aka: ''},
      {first: 'Marc',     last: 'Vince',             aka: ''},
      {first: 'Juan',     last: 'Mendes',            aka: ''},
      {first: 'Ben',      last: 'Payne',             aka: ''},
      {first: 'Thomas',   last: 'Portassau',         aka: 'thomatoes50'},
      {first: 'Felix',    last: 'Unger',             aka: ''},
      {first: 'Waldenar', last: 'Zeitler',           aka: ''},
      {first: 'Nicusor',  last: 'Nedelcu',           aka: ''},
      {first: 'Boluwatife',   last: 'Falaye',        aka: ''},
      {first: 'Mayowa David', last: 'Abogunrin',     aka: ''},
      {first: 'Edelamr',  last: 'Schneider',         aka: ''},
      {first: 'Eike',     last: 'Externest',         aka: ''}
    ]
  },

  { translateId: 'ui.credits.vehicleDesigners',
    members: [
      {first: 'Gabe',          last: 'Fink',       aka: 'gabester'},
      {first: 'Mitchell',      last: 'Sahl',       aka: 'B25Mitch'},
      {first: 'Corey',         last: 'Bergerud',   aka: 'Goosah'},
      {first: 'Sam',           last: 'Millington', aka: 'DrowsySam'},
      {first: 'Ananda Neelam', last: 'Thathayya',  aka: 'Nadeox1'},
      {first: 'Jali',          last: 'Hautala',    aka: 'Jalkku'},
      {first: 'Jukka',         last: 'Muikkula',   aka: 'Miura'},
      {first: 'Janne',         last: 'Nummela',    aka: ''},
      {first: 'Winston',       last: 'Broderick',  aka: ''},
      {first: 'Aaron',         last: 'Sutcliffe',  aka: ''},
      {first: 'Carlos',        last: 'Bergillos',  aka: 'CarlosAir'},
      {first: 'Brandon',       last: 'Proulx',     aka: 'Hondune'},
      {first: 'Alexandr',      last: 'Shesternin', aka: ''},
      {first: 'Sebastian',     last: 'Wessel',     aka: ''},
      {first: 'Renju',         last: 'Therakathu', aka: ''},
      {first: 'David',         last: 'Thurlbeck',  aka: ''},
      {first: 'Jared',         last: 'Samuelson',  aka: ''},
      {first: 'Mikko',         last: 'Lesonen',    aka: ''}
    ]
  },

  { translateId: 'ui.credits.environmentArtists',
    members: [
      {first: 'Sam',      last: 'Hutchinson', aka: 'LJFHutch'},
      {first: 'Christin', last: 'Walther',    aka: ''},
      {first: 'Justin',   last: 'Roczniak',   aka: 'Donoteat'}
    ]
  },

  { translateId: 'ui.credits.gameDesigners',
    members: [
      {first: 'Matthias',     last: 'Niebergall',  aka: ''},
    ]
  },

  { translateId: 'ui.credits.conceptArtists2D',
    members: [
      {first: 'Lisa',     last: 'Steinberg',  aka: ''},
      {first: 'Moses',    last: 'Mulinge',    aka: ''},
      {first: 'Mary Jane',last: 'Pajaron',    aka: ''}
    ]
  },

  { translateId: 'ui.credits.assistantenvArtists',
    members: [
      {first: 'Anisa', last: 'Utami ',  aka: ''},
    ]
  },

  { translateId: 'ui.credits.organization',
    members: [
      {first: 'Saskia',       last: 'Opitz',        aka: ''},
      {first: 'Christoforos', last: 'Lambrianidis', aka: ''}
    ]
  },

  { translateId: 'ui.credits.qa',
    members: [
      {first: 'Colin',                 last: 'Wenz',          aka: 'synsol'},
      {first: 'Kemisola',              last: 'Adeniyi',       aka: ''},
      {first: 'Safdar',                last: 'Mahmood',       aka: ''},
      {first: 'Rajinder',              last: '',              aka: ''},
      {first: 'Barend van der',        last: 'Meulen',        aka: ''},
      {first: 'Hala',                  last: 'Mahmoud',       aka: ''},
      {first: 'Jan Niklas',            last: 'Hasse',         aka: ''}
    ]
  },

  { translateId: 'ui.credits.ui',
    members: [
      {first: 'Yale',      last: 'Hartmann',    aka: 'Saniamos'},
      {first: 'Vasilis',   last: 'Douvaras',    aka: 'Vaasik'},
      {first: 'Giorgos',   last: 'Siantikos',   aka: 'gntikos'},
      {first: 'Theodoros', last: 'Manouilidis', aka: ''},
      {first: 'Svetlozar', last: 'Valchev',     aka: ''}
    ]
  },

  { translateId: 'ui.credits.sound',
    members: [
      {first: 'Sebastian',      last: 'Emling',    aka: ''},
      {first: 'Mark',           last: 'Knight',    aka: 'TDK'}
    ]
  },

  { translateId: 'ui.credits.sysops',
    members: [
      {first: 'Charalampos',      last: 'Tsipizidis',    aka: ''},
      {first: 'Konstantinos',     last: 'Stamou',        aka: ''}
    ]
  },

  { translateId: 'ui.credits.customerSupport',
    members: [
      {first: 'Ananda Neelam', last: 'Thathayya',  aka: 'Nadeox1'},
      {first: 'Harm',          last: 'Schulz',     aka: ''}
    ]
  },

  { translateId: 'ui.credits.ourAwesomeCommunity',
    members: [
      {first: 'Richard',  last: 'Sixsmith',    aka: 'Metalmuncher'},
      {first: 'Tom',      last: 'Verhoeve',    aka: 'Mythbuster'},
      {first: 'Sergy',    last: 'Karpowicz',   aka: '0xsergy'},
      {first: 'Dustin',   last: 'Kutchara',    aka: 'dkutch'},
      {first: 'Matti',    last: 'Yrjänheikki', aka: 'Masa'},
      {first: 'Daniel',   last: 'Jones',       aka: 'daniel_j'},
      {first: 'Dennis',   last: 'Wrekenhorst', aka: 'Dennis-W'},
      {first: 'Sven',     last: 'Nabeck',      aka: 'sputnik_1'},
      {first: 'Yannis',   last: 'Vaiopoulos',  aka: 'JohnV'},
      {first: 'Kristian', last: 'Fagerland',   aka: ''}
    ]
  },

  { translateId: 'ui.credits.specialThanksTo',
    members: [
      {first: 'Pierre-Michel', last: 'Ricordel', aka: 'pricorde'}
    ]
  },

  { translateId: 'ui.credits.madePossibleWith',
    members: [
      {first: 'fmod',                        last: '', aka: ''},
      {first: 'LuaJIT',                      last: '', aka: ''},
      {first: 'lua-intf, LuaBridge',         last: '', aka: ''},
      {first: 'Chromium Embedded Framework', last: '', aka: ''},
      {first: 'AngularJS',                   last: '', aka: ''},
      {first: 'Material Design',             last: '', aka: ''},
      {first: 'LuaSocket',                   last: '', aka: ''},
    ]
  }
])

/**
 * @ngdoc controller
 * @name beamng.stuff:CreditsController
 * @requires logger
 * @requires $scope
 * @requires $state
 * @requires beamng.stuff:Contributors
 *
 * @description
 * Basic controller for the credits scene
**/
.controller('CreditsController', ['logger', '$scope', '$state', '$timeout', 'bngApi', 'Contributors',
function(logger, $scope, $state, $timeout, bngApi, Contributors) {
  document.getElementById('bng-credits-wrapper').focus();
  bngApi.engineScript('hideCursor();');

  var vm = this;
  vm.contributors = Contributors;
  bngApi.engineLua('UI.unlockFPS();');

  vm.exit = function ($event) {
    if ($event)
      logger.debug('[CreditsController] exiting by keypress event %o', $event);
    $state.go('menu.mainmenu');
  };

  document.getElementsByClassName('bng-credits-end')[0].addEventListener('webkitAnimationEnd', function() {
      vm.timeOutPromise = $timeout(function() {
        vm.exit();
      }, 4000);
    });

  $scope.$on('$destroy', function () {
    logger.debug('[CreditsController] destroyed. Clearing timeout %o', vm.timeOutPromise);
    $timeout.cancel(vm.timeOutPromise);
    bngApi.engineLua('UI.limitFPSDefault();');
    bngApi.engineScript('showCursor();');
  });
}]);
